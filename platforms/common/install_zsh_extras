#!/bin/sh


# install zsh plugins 
# remember to update "plugins" items in .zshrc file
echo "" 
echo "installing plugins for zsh"
export ZSH_CUSTOM=${ZSH}/custom
echo "----------------------------------------------------"
echo "ZSH_CUSTOM: ${ZSH_CUSTOM}"
for plugin in zsh-autosuggestions zsh-syntax-highlighting zsh-completions
do
  if [ ! -d ${ZSH_CUSTOM}/plugins/${plugin} ]; then
    git clone git://github.com/zsh-users/${plugin} ${ZSH_CUSTOM}/plugins/${plugin}
  else
    cd ${ZSH_CUSTOM}/plugins/${plugin}
    git pull
  fi
done

# echo "MY_ENV_ROOT: ${MY_ENV_ROOT}"
cd ${MY_ENV_ROOT}/extras
POWERLINE-THEME=${MY_ENV_ROOT}/extras/oh-my-zsh-powerline-theme 
# install powerline theme
if [ ! -d ${POWERLINE_THEME} ]; then
  git clone git@github.com:jeremyFreeAgent/oh-my-zsh-powerline-theme.git ${POWERLINE_THEME}
fi

cd ${POWERLINE_THEME}
git pull
. ./install_in_omz.sh

cd ${MY_ENV_ROOT}/platforms/common

# sleep for 2 seconds to avoid error "shell-init: error retrieving current directory" when rm powerline-theme directory
sleep 2
rm -rf ${POWERLINE_THEME}
